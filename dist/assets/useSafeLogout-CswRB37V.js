import{c as L,r as s,j as a,T as D,X as T,u as F,m as R,A as W}from"./index-B8AJ77RJ.js";import{M as q,u as H,P as O,a as V,b as K,L as U}from"./proxy-BZL43_Lm.js";import{i as _}from"./motion-vendor-B3HUmrK1.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ue=L("chevron-right",X);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],de=L("folder-open",G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],fe=L("log-out",Q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],pe=L("moon",Y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],he=L("sun",Z);function z(e,o){if(typeof e=="function")return e(o);e!=null&&(e.current=o)}function J(...e){return o=>{let t=!1;const r=e.map(i=>{const l=z(i,o);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let i=0;i<r.length;i++){const l=r[i];typeof l=="function"?l():z(e[i],null)}}}}function ee(...e){return s.useCallback(J(...e),e)}class te extends s.Component{getSnapshotBeforeUpdate(o){const t=this.props.childRef.current;if(t&&o.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=_(r)&&r.offsetWidth||0,l=_(r)&&r.offsetHeight||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=i-n.width-n.left,n.bottom=l-n.height-n.top}return null}componentDidUpdate(){}render(){return this.props.children}}function oe({children:e,isPresent:o,anchorX:t,anchorY:r,root:i}){const l=s.useId(),n=s.useRef(null),x=s.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=s.useContext(q),y=e.props?.ref??e?.ref,f=ee(n,y);return s.useInsertionEffect(()=>{const{width:v,height:u,top:p,left:g,right:b,bottom:k}=x.current;if(o||!n.current||!v||!u)return;const j=t==="left"?`left: ${g}`:`right: ${b}`,M=r==="bottom"?`bottom: ${k}`:`top: ${p}`;n.current.dataset.motionPopId=l;const w=document.createElement("style");d&&(w.nonce=d);const h=i??document.head;return h.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${u}px !important;
            ${j}px !important;
            ${M}px !important;
          }
        `),()=>{h.contains(w)&&h.removeChild(w)}},[o]),a.jsx(te,{isPresent:o,childRef:n,sizeRef:x,children:s.cloneElement(e,{ref:f})})}const ne=({children:e,initial:o,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:l,mode:n,anchorX:x,anchorY:d,root:y})=>{const f=H(re),v=s.useId();let u=!0,p=s.useMemo(()=>(u=!1,{id:v,initial:o,isPresent:t,custom:i,onExitComplete:g=>{f.set(g,!0);for(const b of f.values())if(!b)return;r&&r()},register:g=>(f.set(g,!1),()=>f.delete(g))}),[t,f,r]);return l&&u&&(p={...p}),s.useMemo(()=>{f.forEach((g,b)=>f.set(b,!1))},[t]),s.useEffect(()=>{!t&&!f.size&&r&&r()},[t]),n==="popLayout"&&(e=a.jsx(oe,{isPresent:t,anchorX:x,anchorY:d,root:y,children:e})),a.jsx(O.Provider,{value:p,children:e})};function re(){return new Map}const N=e=>e.key||"";function B(e){const o=[];return s.Children.forEach(e,t=>{s.isValidElement(t)&&o.push(t)}),o}const ge=({children:e,custom:o,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:l="sync",propagate:n=!1,anchorX:x="left",anchorY:d="top",root:y})=>{const[f,v]=V(n),u=s.useMemo(()=>B(e),[e]),p=n&&!f?[]:u.map(N),g=s.useRef(!0),b=s.useRef(u),k=H(()=>new Map),j=s.useRef(new Set),[M,w]=s.useState(u),[h,E]=s.useState(u);K(()=>{g.current=!1,b.current=u;for(let m=0;m<h.length;m++){const c=N(h[m]);p.includes(c)?(k.delete(c),j.current.delete(c)):k.get(c)!==!0&&k.set(c,!1)}},[h,p.length,p.join("-")]);const $=[];if(u!==M){let m=[...u];for(let c=0;c<h.length;c++){const C=h[c],S=N(C);p.includes(S)||(m.splice(c,0,C),$.push(C))}return l==="wait"&&$.length&&(m=$),E(B(m)),w(u),null}const{forceRender:A}=s.useContext(U);return a.jsx(a.Fragment,{children:h.map(m=>{const c=N(m),C=n&&!f?!1:u===h||p.includes(c),S=()=>{if(j.current.has(c))return;if(j.current.add(c),k.has(c))k.set(c,!0);else return;let P=!0;k.forEach(I=>{I||(P=!1)}),P&&(A?.(),E(b.current),n&&v?.(),r&&r())};return a.jsx(ne,{isPresent:C,initial:!g.current||t?void 0:!1,custom:o,presenceAffectsLayout:i,mode:l,root:y,onExitComplete:C?void 0:S,anchorX:x,anchorY:d,children:m},c)})})};function se(e){switch(e.status){case"novo":return{label:"Novo",color:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"};case"em_preenchimento":return{label:"Em andamento",color:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"};case"enviado_preposto":return{label:"Aguardando conferência",color:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400"};case"reprovado_preposto":return{label:"Devolvido para revisão",color:"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400"};case"concluido":return{label:"Concluída",color:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400"};default:return{label:"Novo",color:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}}}function ae(e,o){if(o?.prepostoConfirmado===!0){if(o.statusPreposto==="aprovado")return"concluido";if(o.statusPreposto==="reprovado")return"reprovado_preposto"}return e.status}function me(e,o){const t=ae(e,o),r={...e,status:t};return se(r)}const xe=({isOpen:e,title:o,message:t,confirmLabel:r="Confirmar",cancelLabel:i="Cancelar",onConfirm:l,onCancel:n,variant:x="danger"})=>{if(!e)return null;const y={danger:{icon:"text-red-600 dark:text-red-400",iconBg:"bg-red-100 dark:bg-red-900/20",confirmButton:"bg-red-600 hover:bg-red-700 text-white"},warning:{icon:"text-yellow-600 dark:text-yellow-400",iconBg:"bg-yellow-100 dark:bg-yellow-900/20",confirmButton:"bg-yellow-600 hover:bg-yellow-700 text-white"},info:{icon:"text-blue-600 dark:text-blue-400",iconBg:"bg-blue-100 dark:bg-blue-900/20",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white"}}[x];return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`bg-white dark:bg-gray-900 rounded-2xl max-w-md w-full shadow-xl 
                   border border-gray-200 dark:border-gray-800 overflow-hidden`,children:[a.jsx("div",{className:"p-6 pb-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${y.iconBg}`,children:a.jsx(D,{className:`w-6 h-6 ${y.icon}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:o}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t})]}),a.jsx("button",{onClick:n,className:`p-2 -mr-2 -mt-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 
                       text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`,children:a.jsx(T,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 pt-2 flex gap-3",children:[a.jsx("button",{onClick:n,className:`flex-1 px-4 py-3 rounded-lg font-medium
                     bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300
                     hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors`,children:i}),a.jsx("button",{onClick:()=>{l(),n()},className:`flex-1 px-4 py-3 rounded-lg font-medium transition-colors ${y.confirmButton}`,children:r})]})]})})};function ye(){const{logout:e}=F(),[o,t]=s.useState(!1),[r,i]=s.useState(0);return{handleLogout:async()=>{try{const d=await W.getPendingCount();d>0?(R(`⚠️ Logout bloqueado: ${d} operação(ões) pendente(s)`),i(d),t(!0)):(R("✅ Logout seguro: sem dados pendentes"),await e())}catch(d){R("⚠️ Erro ao verificar dados pendentes, fazendo logout...",d),await e()}},forceLogout:async()=>{R(`⚠️ Logout forçado com ${r} operação(ões) pendente(s)`),t(!1),await e()},cancelLogout:()=>{R("✅ Logout cancelado pelo usuário"),t(!1)},showLogoutConfirm:o,pendingCount:r}}export{ge as A,ue as C,de as F,fe as L,pe as M,he as S,me as a,xe as b,ae as g,ye as u};
